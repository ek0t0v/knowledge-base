# Тестирование

- [Модульное тестирование](#модульное-тестирование)
- [Интеграционное тестирование](#интеграционное-тестирование)
- [Функциональное и приемочное тестирование](#функциональное-и-приемочное-тестирование)
- [Сквозное тестирование](#сквозное-тестирование)

Суть тестирования - поиск ошибок в работе ПО. Важно понимать разницу между тестами, которые **стремятся выявить ошибки** и тестами, которые **демонстрируют отсутствие ошибок**.

С помощью тестов **невозможно** обнаружить все возможные ошибки.

**Тестирование методом "черного ящика"** - метод, основанный на работе исключительно с внешними интерфейсами тестируемой системы. Мы не имеем представления о структуре и внутреннем устройстве системы. Нужно концентрироваться на том, что программа делает, а не на том, как она это делает.

**Тестирование методом "белого ящика"** - метод, который предполагает, что внутреннее устройство системы известно тестировщику. Мы выбираем входные значения, основываясь на знании кода, который будет их обрабатывать. Точно так же мы знаем, каким должен быть результат этой обработки.

## Модульное тестирование

Модульные тесты (юнит-тесты) предназначены для тестирования отдельных модулей.

### Уровни модульного тестирования

| Тестируемый класс | Описание |
| :-- | :-- |
| **Нет зависимостей и состояния** | Идеальный сценарий. Если у класса, для которого мы пишем юнит-тест, нет никаких внешних зависимостей, то моки/стабы не нужны. Можно просто написать код, проверяющий код. Проверяются отдельные методы класса. |
| **Нет зависимостей, есть состояние** | Для того что бы протестировать такой класс, необходимо привести его в нужное состояние. Добавляется этап установки предусловий. Класс проверяется как единое целое. |
| **Есть зависимости, нет состояния** | Когда есть класс со внешними зависимостями, но его реализация не зависит от внутреннего состояния. Начинает размываться представление о том, какие ожидания у этого теста должны быть чтобы проверить тест-кейс. Появляется необходимость в моках. |
| **Есть зависимости и состояние** | Тест становится сложным и хрупким. Когда тест сложнее тестируемого кода, то стоит задать вопрос - где с большей вероятностью может произойти ошибка? |

Последние два уровня приносят больше всего сложности. С каждым уровнем теряется все больше и больше ценности тестов. **Возможно, стоит стараться инкапсулировать как можно больше логики в классах не имеющих внешних зависимостей и состояния?**

## Интеграционное тестирование

Тестирование нескольких модулей в связке.

## Функциональное и приемочное тестирование

Цель функционального тестирования - тестирование всего приложения в сборе. Приемочное тестирование - это те же функциональные тесты, но в контексте критериев приемки.

Критерии приемки (acceptance criteria) - это некий чек-лист, который должен проверить тестировщик чтобы удостовериться что все хорошо.

## Сквозное тестирование

Сквозное тестирование (end to end) - самая верхняя часть пирамиды тестирования. При таком виде тестирования приложение загружается целиком и имитируются действия пользователя. Взаимодействие проходит "насквозь" - от кнопки в браузере до взаимодействия с БД. Это самый медленный вид тестирования и им стоит покрывать только позитивные сценарии.
